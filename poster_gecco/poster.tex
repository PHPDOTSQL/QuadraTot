\documentclass[portrait,final]{baposter}

\usepackage{times}
\usepackage{calc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{relsize}
\usepackage{multirow}
\usepackage{ownstyles}
\usepackage{bm}

\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{multicol}

\usepackage{pgfbaselayers}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

\usepackage{helvet}
%\usepackage{bookman}
\usepackage{palatino}

\newcommand{\captionfont}{\footnotesize}

\renewcommand\refname{}   % get rid of ``References'' title

\selectcolormodel{cmyk}

\graphicspath{{../figures/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Some math symbols used in the text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format 
\newcommand{\Matrix}[1]{\begin{bmatrix} #1 \end{bmatrix}}
\newcommand{\Vector}[1]{\Matrix{#1}}
\newcommand*{\SET}[1]  {\ensuremath{\mathcal{#1}}}
\newcommand*{\MAT}[1]  {\ensuremath{\mathbf{#1}}}
\newcommand*{\VEC}[1]  {\ensuremath{\bm{#1}}}
\newcommand*{\CONST}[1]{\ensuremath{\mathit{#1}}}
\newcommand*{\norm}[1]{\mathopen\| #1 \mathclose\|}% use instead of $\|x\|$
\newcommand*{\abs}[1]{\mathopen| #1 \mathclose|}% use instead of $\|x\|$
\newcommand*{\absLR}[1]{\left| #1 \right|}% use instead of $\|x\|$

\def\norm#1{\mathopen\| #1 \mathclose\|}% use instead of $\|x\|$
\newcommand{\normLR}[1]{\left\| #1 \right\|}% use instead of $\|x\|$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Multicol Settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\columnsep}{0.7em}
\setlength{\columnseprule}{0mm}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Save space in lists. Use this after the opening of the list
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\compresslist}{%
\setlength{\itemsep}{1pt}%
\setlength{\parskip}{0pt}%
\setlength{\parsep}{0pt}%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Begin of Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Here starts the poster
%%%---------------------------------------------------------------------------
%%% Format it to your taste with the options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\typeout{Poster Starts}
\background{
  \begin{tikzpicture}[remember picture,overlay]%
    \draw (current page.north west)+(-2em,-0em) node[anchor=north west] {\hspace{-2em}\includegraphics[height=1.1\textheight]{silhouettes_background}};
  \end{tikzpicture}%
}
\definecolor{silver}{cmyk}{0,0,0,0.3}
\definecolor{blue1}{cmyk}{0.3,0.05,0.05,0.0}
\definecolor{darkblue1}{cmyk}{1.0,0.5,0.5,0.0}
\definecolor{black}{cmyk}{0,0,0.0,1.0}
\definecolor{darkYellow}{cmyk}{0,0,1.0,0.5}
\definecolor{darkSilver}{cmyk}{0,0,0,0.1}

\definecolor{lightorange}{rgb}{1.0, 0.9, 0.8}
\definecolor{lighteryellow}{cmyk}{0,0,0.1,0.0}
\definecolor{lightestyellow}{cmyk}{0,0,0.05,0.0}
\begin{poster}{
  columns = 4,
  % Show grid to help with alignment
  grid=no,
  % Column spacing
  colspacing=1em,
  % Color style
  bgColorOne=white,
  bgColorTwo=white,
  borderColor=darkblue1,
  headerColorOne=blue1,
  headerColorTwo=darkblue1,
  headerFontColor=black,
  boxColorOne=white,
  boxColorTwo=white,
  % Format of textbox
  textborder=roundedleft,
  % Format of text header
  eyecatcher=no,
  headerborder=open,
  headerheight=0.075\textheight,
  headershape=roundedright,
  headershade=plain,
  headerfont=\normalsize\textsf, %Sans Serif
  boxshade=plain,
%  background=shade-tb,
  background=plain,
  linewidth=2pt
  }
  % Eye Catcher
  {} % No eye catcher for this poster. If an eye catcher is present, the title is centered between eye-catcher and logo.
  % Title
  {\sf %Sans Serif
  %\bf% Serif
  \vspace{.4em}{\huge Generating Gaits for Physical Quadruped Robots:} \\{\LARGE Evolved Neural Networks Vs. Local Parameterized Search}\vspace{.3em}}
  % Authors
  {\sf %Sans Serif
  % Serif
  \vspace{-.25em}{\normalsize Jason Yosinski, Jeff Clune, Diana Hidalgo, Sarah Nguyen, Juan Cristobal Zagal, Hod Lipson}\\\hspace{0.3em}
  \code{\footnotesize yosinski@cs.cornell.edu}\hspace{3em}
  }
  % University logo
  {{\begin{minipage}{.25\textwidth}
    \hfill
    \includegraphics[height=5.0em]{cornellLogo}
  \end{minipage}}
  }

  \tikzstyle{light shaded}=[top color=baposterBGtwo!30!white,bottom color=baposterBGone!30!white,shading=axis,shading angle=30]

  % Width of left inset image
     \newlength{\leftimgwidth}
     \setlength{\leftimgwidth}{0.78em+8.0em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Now define the boxes that make up the poster
%%%---------------------------------------------------------------------------
%%% Each box has a name and can be placed absolutely or relatively.
%%% The only inconvenience is that you can only specify a relative position 
%%% towards an already declared box. So if you have a box attached to the 
%%% bottom, one to the top and a third one which should be in between, you 
%%% have to specify the top and bottom boxes before you specify the middle 
%%% box.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %
    % A coloured circle useful as a bullet with an adjustably strong filling
    \newcommand{\colouredcircle}[1]{%
      \tikz{\useasboundingbox (-0.2em,-0.32em) rectangle(0.2em,0.32em); \draw[draw=black,fill=baposterBGone!80!black!#1!white,line width=0.03em] (0,0) circle(0.18em);}}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Abstract}{name=abstract,column=0,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    {\small
    \input{abstract}
    }
    \vspace{.5em}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Platform and Experimental Setup}{name=platform,column=0,below=abstract,above=bottom}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \small

    %\pwfig[l]{robot_whitebg.jpg}{.5}{The quadruped robot for which
    %  gaits were evolved. The translucent parts were produced by a 3D
    %  printer. Videos of the gaits can be viewed at
    %  http://bit.ly/geccogait}
    %
    %\pwfig[r]{topdown2.jpg}{.3}{(a) Top-down perspective of the robot
    %  with the nine joints and associated servos labeled. (b) The
    %  robot in a flat pose with the hip joint centered. (c,d,e)
    %  Various views of a pose in which the hip joint is rotated.}
    
    \pfigg{robot_whitebg.jpg}{topdown2.jpg}{.49}{The 3D printed quadruped robot. Videos of the gaits can be viewed at
      http://bit.ly/geccogait}

    The quadruped robot was assembled from off-the-shelf
    components and parts printed on the Objet Connex 500 3-D Printing
    System.
    % It weighs 1.88 kg with the on-board computer and measures 38
    % centimeters from leg to opposite leg in the crouch position
    % depicted above.
    The robot is actuated by nine AX-12+ Dynamixel servos: eight for the legs and one at the center ``hip'' joint.
    %This final unique servo allows
    %the two halves of the robot to rotate with respect to each other.

    \vspace{.5em}

    All computation for gait learning, fitness evaluation, and
    robot control was performed on the compact, on-board CompuLab
    Fit-PC2, running Ubuntu Linux 10.10.  All gait generation,
    learning, and fitness evaluation code, except HyperNEAT, was
    written in Python and is available on our website
    (http://bit.ly/geccogait).

%  }
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  \headerbox{Experimental Setup}{name=experimentalSetup,column=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\pfigg{wiiMote_crop.jpg}{robot_led_crop.jpg}{1}{A Nintendo Wii
%  remote provided the location of the robot by tracking the infrared
%  LED mounted on the robot's antenna.  The position was measured
%  in pixels and transmitted from the Wii remote to the robot via
%  bluetooth.}

\pfigg{wiiMote_crop.jpg}{robot_led_crop.jpg}{1}{\\A Nintendo Wii
  remote tracked an IR LED on the robot, transmitting the (x,y)
  location via bluetooth.}

%To track the position of the robot and thus determine gait fitness, we
%mounted a Nintendo Wii remote on the ceiling and an infrared LED on
%top of the robot.  The Wii remote contains
%an IR camera that tracks and reports the position of IR sources.
The
resolution of the camera was 1024 by 768 pixels with view angles of
about 40$^\circ$ by 30$^\circ$, which produced a resolution of 1.7mm
per pixel when mounted at a height of 2.63m.  At this height, the
viewable window on the floor was approximately 175 x 120 cm.

    \vspace{.5em}

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Fitness Evaluation}{name=fitnessEvaluation,column=1}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    Gait fitness was the Euclidian distance the robot moved during a
    12-second run on flat terrain.  To encourage gaits that did not
    tax the motors, we penalized gaits that caused the servos to stop
    responding by a factor of 1/2.

    \pfig{linearInterp}{1}{Motion was interpolated linearly between a
      stationary pose and the gait $g(t)$.}

    The robot was always measured while in the \emph{ready} position
    to ensure fair fitness measurements. As shown above, the
    instantaneous robot limb configuration during the first and last
    portions of the evaluation was an interpolation between the
    initial ready position and $g(t)$.

  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Parameterized Gaits}{name=parameterizedGaits,column=1,span=1,below=fitnessEvaluation,above=bottom}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Parameterized gaits were produced by the following gait function $g(t; \vec{\theta})$:

%\newcommand{\amp}{\ensuremath{\mathrm{amp}}}
\newcommand{\amp}{\ensuremath{\alpha}}

\vspace{-.75em}

{
\tiny
\[
\vec{g}(t) =
\left[ {\begin{array}{c@{ }c@{ }c@{ }l@{ }l}
\amp \cdot \sin(2\pi t / \tau) & \             & \ \cdot \ m_F & \            & + C_I \\ % 0
\amp \cdot \sin(2\pi t / \tau) & \ \cdot \ m_O & \ \cdot \ m_F & \            & + C_O \\ % 1
\amp \cdot \sin(2\pi t / \tau) & \             & \             & \            & + C_I \\ % 2
\amp \cdot \sin(2\pi t / \tau) & \ \cdot \ m_O & \             & \            & + C_O \\ % 3
\amp \cdot \sin(2\pi t / \tau) & \             & \             & \ \cdot \ m_R  & + C_I \\ % 4
\amp \cdot \sin(2\pi t / \tau) & \ \cdot \ m_O & \             & \ \cdot \ m_R  & + C_O \\ % 5
\amp \cdot \sin(2\pi t / \tau) & \             & \ \cdot \ m_F & \ \cdot \ m_R  & + C_I \\ % 6
\amp \cdot \sin(2\pi t / \tau) & \ \cdot \ m_O & \ \cdot \ m_F & \ \cdot \ m_R  & + C_O \\ % 7
0                              & \             & \             & \            & + C_C \\ % 8
\end{array} } \right]
\]
}

\vspace{-.75em}

\noindent with parameters in the ranges:

\vspace{-.75em}

{
\scriptsize
\begin{center}
\begin{tabular}{|c|c|c|}
\hline
Parameters        &                           &       \\
in $\vec{\theta}$ & Description               & Range \\
\hline
\hline
\amp         & Amplitude                 & [0, 400] \\
\hline
$\tau$       & Period                    & [.5, 8] \\
\hline
$m_O$        & Outer multiplier    & [-2, 2] \\
\hline
$m_F$        & Front multiplier    & [-1, 1] \\
\hline
$m_R$        & Right multiplier    & [-1, 1] \\
\hline
\end{tabular}
\tablabel{parameters}
\label{tab:params}
\end{center}
}

Intuitively, we start with 8 identical sine waves of
amplitude $\amp$ and period $\tau$, multiply the waves for all outer
motors by $m_O$, multiply the waves for all front motors by $m_F$,
and multiply the waves for all right motors by $m_R$.  To obtain the
actual motor position commands, these waves are offset by
fixed constants ($C_O = 40$ for outer
motors, $C_I = 800$ for inner motors, and $C_C = 512$ for the center hip motor) so that the base position (when the sine
waves are at 0) is approximately a crouch.
To keep the size of the model search space as
small as possible, we decided to keep the ninth (center) motor at a fixed neutral
position.

\vspace{.5em}

The \textbf{learning methods} used to search the parameterized gait
space were: \textbf{Random}, \textbf{Uniform random hill climbing},
\textbf{Gaussian random hill climbing}, \textbf{N-dimensional policy
  gradient ascent}, \textbf{Nelder-Mead simplex method},
\textbf{Linear regression}, and \textbf{SVM regression}. A discussion
of each is in the paper.

  }



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{HyperNEAT Gaits}{name=hyperneatGaits,column=2,span=1}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \small

    Gaits generated via HyperNEAT were compared to the parameterized gaits.

    \pfig{hyperneatExplanation.png}{1}{HyperNEAT produces ANNs from
      CPPNs \cite{clune2011performance}.}

    HyperNEAT is an indirect encoding for evolving artificial neural
    networks (ANNs) that is inspired by the way natural organisms
    develop~\cite{stanley2009hypercube}. It evolves Compositional
    Pattern Producing Networks
    (CPPNs)~\cite{stanley2007compositional}, each of which is a genome
    that encodes an ANN 
    phenotype~\cite{stanley2009hypercube}. Each CPPN is itself a
    directed graph, where the nodes in the graph are mathematical
    functions, such as sine or Gaussian. The nature of these functions
    can facilitate the evolution of properties such as symmetry
    (e.g.\ a Gaussian function) and repetition (e.g.\ a sine
    function)~\cite{stanley2009hypercube, stanley2007compositional}.

    \pfig{SpiderANN.jpg}{.8}{ANN
      configuration to generate gaits
      \cite{clune2011performance}.}\label{hyperneatLayout}
    For quadruped locomotion, HyperNEAT has previously produced gaits
    with front-back, left-right, and four-way
    symmetries~\cite{clune2009evolving, clune2011performance}.
    
    \pfig{neat_110115_211410_00000_002_filt_zoom}{1}{Joint angles over time for
      a high-performance HyperNEAT gait.}

  }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Results}{name=results,column=3,span=1,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\small
\textbf{Parameterized Gaits}
\vspace{.5em}

\noindent A total of 1217 hardware fitness evaluations were performed to learn
parameterized gaits in three separate runs (200 random, 234 uniform, 284 Gaussian, 174
gradient, 172 simplex, 153 linear regression). The SVM-based self-modeling method
was never successful.

%One reason the randomly-generated SineModel5 gaits were so effective
%may have been due to the SineModel5's bias toward regular, symmetric
%gaits.  This may have allowed the random strategy --- focusing on
%exploration --- to be competitive with the more directed strategies
%that exploit information from past evaluations.
    

\pfig{std_error}{1}{Average results ($\pm $ SE) for parameterized
  learning methods over three runs.  Linear regression found the
  fastest overall gait, followed by
  Nelder-Mead simplex.}


\textbf{HyperNEAT Gaits}
\vspace{.5em}

\noindent A total of 540 evaluations were performed for HyperNEAT, whose gaits
were the faster by far than the parameterized models.  The single best
gait found had a speed of 45.72 body lengths/minute, 66\% better than
the best non-HyperNEAT gait and 8.9 times faster than the hand-coded
gait.

Evaluation of HyperNEAT gaits was very noisy, which made learning
difficult. For example, we tested one gait 11 times and found an average performance of 26
 body lengths/minute, $\pm$13 std. dev., with a max of 38 and a min of 3.

\vspace{.5em}

Many effective HyperNEAT gaits were not preserved across generations
because a single poor-performing trial could prevent their
selection. The HyperNEAT learning curve would be smoother if the noise
in the evaluations could be reduced or more than one evaluation per
individual could be afforded.

\pfig{hnResults}{1}{Average fitness ($\pm $ SE) of the highest
  performing individual at each generation.}

\textbf{Summary of Results}
\vspace{.5em}


{\scriptsize
\begin{center}
\begin{tabular}{|r|c|c|c||c|}
\hline
                                         & Avg & SD \\
\hline                                    
\hline                                    
Previous hand-coded gait                 & 5.16   &   --     \\
\hline
Random search                            & 9.40   &   6.83   \\
\hline
Uniform Hill Climbing             & 7.83   &   4.56   \\
\hline
Gaussian Hill Climbing            & 10.03  &   6.00   \\
\hline
Policy Gradient Descent                  & 6.32   &   7.39   \\
\hline
Nelder-Mead simplex                      & 12.32  &   3.35   \\
\hline
Linear Regression                        & 14.01  &  12.88   \\
\hline
Evolved Neural Network              &        &          \\
(HyperNEAT)                              & 29.26  &   6.37   \\
\hline
\end{tabular}
\vspace{.5em}\\
\capt{Average and SD of the best gaits found
  during each of three runs, in body
  lengths/minute.}  \tablabel{results}
\end{center}
}

  }%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Abbreviated References}{name=references,column=2,below=hyperneatGaits,above=bottom}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \vspace{-1em}

    \scriptsize

    \bibliography{references.bib}
    %\bibliographystyle{is-plain}
    \bibliographystyle{plain}
  }%
\end{poster}%
%
\end{document}
